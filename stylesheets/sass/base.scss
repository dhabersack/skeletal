@import 'colors.scss';
@import 'font-stacks.scss';
@import 'mixins.scss';
@import 'config.scss';
@import 'functions.scss';

// Skeletal base stylesheet

/*
 * VERTICAL GRID
 *
 * The vertical grid is based on a height of 6px. This allows for the use of
 * line-heights like 12px, 18px, 24px, 30px, etc.
 *
 * Sensible font-size and line-height combinations are:
 *
 *   font-size  |  line-height (em)  |  line-height (px)  |   10px
 * -------------+--------------------+--------------------|----------
 *     10px     |       1.8em        |       18px         |  1em
 *     12px     |       1.5em        |       18px         |
 *     15px     |       1.6em        |       24px         |
 *     16px     |       1.5em        |       24px         |  .625em
 *     20px     |       1.5em        |       30px         |  .5em
 *     24px     |       1.5em        |       36px         |
 *     25px     |       1.68em       |       42px         |  .4em
 *     28px     |       1.5em        |       42px         |
 *     30px     |       1.6em        |       48px         |
 *     32px     |       1.5em        |       48px         |  .3125em
 *     40px     |       1.5em        |       60px         |  .25em
 */

// RESET
a, abbr, address, b, blockquote, body, caption, cite, code, dd, del, dfn, div, dl, dt, em, fieldset, form, h1, h2, h3, h4, h5, h6, html, i, iframe, img, ins, kbd, label, legend, li, object, ol, p, pre, q, samp, small, span, strong, sub, sup, table, tbody, td, tfoot, th, thead, tr, ul, var {
	//	background: transparent;
	border: 0;
	font-size: 100%;
	margin: 0;
	outline: 0;
	padding: 0;
	vertical-align: baseline;
}

:focus {
	outline: 0;
}

// link
a {
	color: $dark-blue;

	&:active {}

	&:focus {
		outline: 1px dotted $red;
		text-decoration: none;
	}

	&:hover {
		color: $light-blue;
		text-decoration: underline;
	}

	&:link {
		text-decoration: none;
	}

	&:visited {
		text-decoration: none;
	}
}

// abbreviation
abbr {
	border-bottom: .0625em dotted; // 1px
	cursor: help;
	font-variant: normal;
	letter-spacing: .0625em; // 1px
	text-transform: uppercase;
}

address {
	font-style: italic;
}

area {
}

article {
	margin-bottom: 1.2em;
}

aside {
	margin-bottom: 1.2em;
	padding: 0 1em;
}

// sound element
audio {
}

// bold text
b {
	font-weight: bold;
}

bdi {
}

bdo {
}

// long quotation
blockquote {
  @include border-radius(.2em);
  @include box-shadow(0, 0, .1em, $subtle-shadow-color);

  background: $subtle-background-color;
	font: {
		family: $quote-font-family;
		style: italic;
	}
	margin: 0 6em 1.2em;
	padding: 1.2em 2em;

	p {
		&:last-of-type {
			margin-bottom: 0;
		}
	}
}

body {
	background-color: inherit;
	color: $content-color;
  font: 62.5%/1 $content-font-family; // 10px/10px
}

// single line break
br {
}

// push buttons
button,
input[type="reset"],
input[type="submit"] {
	@include background-gradient($off-white, $light-grey);
	@include border-radius(.125em); // 2px
	@include form-field-border;

	color: $off-black;
	float: left;
	font: 1.6em/1.75em $font-stack-sans-serif; // #/28px
	height: 1.75em; // 28px
	margin: 0 .3125em 0 0; // 0 5px 0 0
	padding: 0 .875em; // 0 14px
	text-shadow: 0 .0625em 0 $off-white;

	&:active {
		@include background-gradient($light-grey, $off-white);

		border-color: $grey;
	}

	&:hover {
	  background: $light-grey;
		border-color: $grey;
		cursor: pointer;
	}

	&[disabled="disabled"] {
		background: $light-grey;
		color: $grey;
		text-shadow: 0 -1px 0 $white;

		&:hover {
			@include form-field-border;
		}
	}
}

// graphics canvas
canvas {
}

// table caption
caption {
}

// citation
cite {
	font: {
		size: 1.2em;
		style: italic;	
		weight: bold;
	}
	line-height: 1.5em; // 18px
}

// computer code
code {
  @include border-radius(.125em); // 2px
  @include box-shadow(0, 0, .0625em, $subtle-shadow-color); // 1px

	background: $subtle-background-color;
	display: inline-block;
	font-family: $code-font-family;
	margin: 0 .125em; // 0 2px
	padding: 0 .3125em; // 0 5px
}

col {
}

colgroup {
}

datalist {
}

// deleted text
del {
  color: $deleted-text-color;
  font-style: italic;
	text-decoration: line-through;
}

details {
}

// definition term
dfn {
	font-style: italic;
}

div {
}

// definition list
dl {
	margin-bottom: 1.2em;

  // definition description
	dd {
		font-size: 1.6em;
		line-height: 1.5em; // 24px
		margin: 0 0 .75em 1.25em; // 0 0 12px 20px
	}

  // definition term
  dt {
		font: {
		  family: $heading-font-family;
			size: 1.6em;
			weight: bold;
		}
		line-height: 1.5em; // 24px
	}
}

// emphasized text
em {
	font-style: italic;
}

embed {
}

fieldset {
	// TODO check effect of clear: left
	clear: left;
	line-height: 1; // helps set vertical alignment of radio buttons and checkboxes; probably unnecessary

	> div {
		margin-bottom: 1.2em;
		overflow: hidden;
		position: relative;

		> input {
			clear: left;
			float: left;

			&[type="checkbox"],
			&[type="radio"] {
				// TODO not happy with use of em-values on top of unknown base value
				float: left;
				font-size: 1.6em;
				height: 1.875em; // 30px
				margin: 0 .625em 0 0; // 0 10px 0 0
				padding: 0;
			}

			&[type="color"],
			&[type="datetime"],
			&[type="datetime-local"],
			&[type="email"],
			&[type="month"],
			&[type="number"],
			&[type="password"],
			&[type="range"],
			&[type="search"],
			&[type="tel"],
			&[type="text"],
			&[type="time"],
			&[type="url"],
			&[type="week"] {
				@include form-field-border;
				@include border-radius(.125em); // 2px

				background: $white;
				font: 1.6em/1em $font-stack-sans-serif; // #/16px
				height: 1em; // 16px
				margin: 0 .625em 0 0; // 0 10px 0 0
				padding: .3125em .25em; // 5px 4px
				width: 16.875em; // 270px

				&:focus {
					border-color: $light-blue;
				}
			}
		}

		> label {
			display: block;
			float: left;
			font-size: 1.6em;
			line-height: 1.875em; // 30px

			&[data-unit] {
				&::after {
					color: #666; // TODO color
					content: attr(data-unit);
					font-size: .75em; // 12px
					line-height: 2.5em; // 30px
					position: absolute;
					left: 20em; // 240px
					text-align: right;
					top: 2.5em; // 30px
					width: 2.5em; // 30px
				}

				+ input[type="text"] {
					padding-right: 3.0625em; // 49px
					width: 14.0625em; // 225px
				}
			}
		}

		> p {
			clear: left;
			color: $grey;
			font-size: 1.2em;
			line-height: 1.5em; // 18px
			margin-bottom: 0;
		}

		> select {
			// TODO style selects
			clear: left;
			float: left;
			margin: 0 .5em 0 0; // ~5px

			~ select {
				clear: none; // only clear first select, following ones will be in line
			}

			> option {
				font-size: 1.2em;
				line-height: 1.5em; // 18px

				> optgroup {
					font-size: 1.2em;
					line-height: 1.5em; // 18px
				}
			}
		}

		> span {
			float: left;
			font-size: 1.2em;
			line-height: 2.5em; // 30px
		}

		> textarea {
			@include form-field-border;
			@include border-radius(.125em); // 2px

			background: $white;
			clear: left;
			float: left;
			font: 1.6em/1.5em $font-stack-sans-serif; // #/24px
			margin: 0;
			min-height: 9em; // 114px
			padding: .3125em .25em; // 5px 4px
			width: 35.628em; // 570px

			&:focus {
				border-color: $light-blue;
			}
		}
	}

	> fieldset {
		@include border-radius(.2em); // 2px
		border: .1em solid $grey;
		margin-bottom: 1.2em;
		padding: .5em .9em 1.1em;

		> div {
			margin-bottom: 0;
		}

		> legend {
			padding: 0 .625em; // 10px
		}
	}

	> legend {
		color: $off-black;
		font: bold 1.6em/1.5em $font-stack-sans-serif; // #/24px
		letter-spacing: .025em;
	}
}

figure {
  figcaption {
  }
}

// footer for section or page
footer {
  // set background color to $footer-background-color if full-width,
  // $page-background-color otherwise
  @if $full-width-footer == true {
    background-color: $footer-background-color;
  } @else {
    background-color: $page-background-color;
  }

  color: $footer-color;
	display: block;
	font-family: $footer-font-family;

	div {
    // set background color to $footer-background-color if not full-width
    @if $full-width-footer != true {
      background-color: $footer-background-color;
    }

	  margin: 0 auto;
  	overflow: hidden;
  	padding: 1.2em 1em;
  	width: 94em;

	  ol li {
		  font-size: 1.2em;
		  line-height: 1.5em; // 18px
		  margin-bottom: 0;
	  }

  	p {
  		float: right;
  		font-size: 1.2em;
  		line-height: 1.5em; // 18px

			&:last-child {
				margin-bottom: 0;
			}
  	}

  	ul li {
  		font-size: 1.2em;
  		line-height: 1.5em; // 18px
  		margin-bottom: 0;
  	}
  }
}

form {
	margin-bottom: 1.2em;

	> fieldset > legend {
		position: absolute;
		text-indent: -999em;
	}
}

h1 {
	float: left;
	font: normal 2em/2.1em $font-stack-sans-serif; // #/42px
	letter-spacing: .01em; // 2px

	> a {
		display: inline-block;

		&:active,
		&:focus,
		&:hover,
		&:link,
		&:visited {
			color: inherit;
		}
	}
}

h2, h3, h4, h5, h6 {
	font: {
		family: $heading-font-family;
		weight: normal;
	}
	letter-spacing: .025em;
}

h2 {
	font-size: 3.2em;
	line-height: 1.5em; // 48px
  padding-bottom: .375em 0 .1875em; // 12px 0 6px
}

h3 {
	font-size: 2.5em;
	line-height: 1.68em; // 42px
	padding: .48em 0 .24em; // 12px 0 6px
}

h4 {
	font-size: 2.4em;
	line-height: 1.5em; // 36px
	padding: .5em 0 .25em; // 12px 0 6px
}

h5 {
	font-size: 2em;
	line-height: 1.5em; // 30px
	padding: .6em 0 .3em; // 12px 0 6px
}

h6 {
	font-size: 1.6em;
	line-height: 1.5em; // 24px
	margin: .75em 0 .375em; // 12px 0 6px
}

header {
  // set background color to $header-background-color if full-width,
  // $page-background-color otherwise
  @if $full-width-header == true {
    background-color: $header-background-color;
  } @else {
    background-color: $page-background-color;
  }

  color: $header-color;
	display: block;

	div {
    // set background color to $header-background-color if not full-width
    @if $full-width-header != true {
      background-color: $header-background-color;
    }

	  margin: 0 auto;
  	overflow: hidden;
  	padding: 0 1em;
  	width: 94em;

    nav {
      display: block;
      float: right;
      font-family: $heading-font-family;
      padding: .9em 0;

    	ol {
    		list-style: none;
    		margin-bottom: 0;
    		overflow: hidden;

    		li {
    			float: left;
    			font-size: 1em;
    			margin-left: 2em;

    			a {
    				display: block;
    				font-size: 1.5em;
    				line-height: 1.6em; // 24px
    			}
    		}
    	}
    }
	}
}

hgroup {
}

hr {
	border: {
		style: solid;
		width: .1em 0 0 0;
	}
	color: $grey;
	margin: 0 6em 1.1em;
}

html {
	background-color: $page-background-color;
	overflow-y: scroll;
}

// italic text
i {
	font-style: italic;
}

iframe {
}

img {
}

// inserted text
ins {
	border-bottom: .0625em dashed;
	font-style: italic;
	text-decoration: none;
}

kbd {
	font-family: $code-font-family;
}

keygen {
}

li > ol,
li > ul {
	> li {
		font-size: 1em; // 15px
		line-height: 1.6em; // 24px
		margin-left: 1.2em; // 18px
	}
}

map {
}

// marked text
mark {
  @include border-radius(.125em); // 2px
  @include box-shadow(0, 0, .0625em, $highlight-shadow-color); // 1px

	background: $highlight-background-color;
	color: inherit;
	display: inline-block;
	margin: 0 .125em; // 0 2px
	padding: 0 .3125em; // 0 5px
}

menu {
}

meter {
}

object {
}

ol {
	list-style: {
		position: inside;
		type: decimal;
	}
	margin-bottom: 1.2em;

	> li {
		font-size: 1.5em;
		line-height: 1.6em; // 24px

		> ol {
			list-style-type: lower-alpha;
			margin-bottom: 0;

			> li > ol {
				list-style-type: lower-roman;
			}
		}

		> ul {
			margin-bottom: 0;
		}
	}
}

output {
}

p {
	font-size: 1.6em;
	line-height: 1.5em; // 24px
	margin-bottom: .75em; // 12px
}

param {
}

// preformatted text
pre {
	@include border-radius(.125em); // 2px
  @include box-shadow(0, 0, .0625em, $subtle-shadow-color); // 1px

	background: $subtle-background-color;
	font: 1.6em/1.5em $code-font-family; // #/24px
	margin-bottom: .75em; // 12px
	padding: .375em .625em; // 6px 10px
}

progress {
}

// short quotation
q {
  @include border-radius(.125em); // 2px
  @include box-shadow(0, 0, .0625em, $subtle-shadow-color); // 1px

	background: $subtle-background-color;
	display: inline-block;
  font: {
  	family: $quote-font-family;
  	style: italic;
  }
	margin: 0 .125em; // 0 2px
	padding: 0 .3125em; // 0 5px

  &::after {
    content: '"';
  }

  &::before {
    content: '"';
  }
}

rp {
}

rt {
}

ruby {
}

s {
}

// sample computer code
samp {
	font-family: $code-font-family;
}

section {
  background: $content-background-color;
	margin: 0 auto;
	padding: 1.2em 1em;
	width: 94em;
}

small {
}

span {
}

// strong text
strong {
	font-weight: bold;
}

sub {
}

summary {
}

sup {
}

table {
	border: {
		collapse: collapse;
		spacing: 0;
	}
	margin-bottom: 1.2em;
	width: 100%;

	> tbody {
		> tr {
			background: $light-grey;
			border-bottom: .1em dashed #ccc; // 1px // TODO color

			&:last-child {
				border-bottom: 0;
			}

			&:nth-child(odd) {
				background: $content-background-color;
			}

			> td {
				font-size: 1.5em;
				line-height: 2em;
				padding: 0 .6em; // 0 9px
			}

			> th {
				border-right: .0625em solid $grey; // 1px
				font: {
					size: 1.6em;
					weight: normal;
				}
				line-height: 1.875em; // 30px
				padding: 0 .625em; // 0 10px
				text-align: right;
			}
		}
	}

	> tfoot {
		> tr {
			background-color: $white;
			border-top: .1em solid $grey;

			> td {
				font-size: 1.6em;
				line-height: 1.875em; // 30px
				padding: 0 .625em; // 0 10px
			}

			> th {
				border-right: .0625em solid $grey; // 1px
				font-size: 1.6em;
				line-height: 1.875em; // 30px
				padding: 0 .625em; // 0 10px
				text-align: right;
			}
		}
	}

	> thead {
		@include border-radius(1em);
		background: #ccc; // TODO color

		> tr {
			border-bottom: .1em solid $dark-grey;

			> th {
				font: {
					size: 1.6em;
					weight: normal;	
				}
				line-height: 1.875em; // 30px
				padding: 0 1.25em; // 0 20px

				&:first-child {
					@include border-top-left-radius(.125em); // 2px
				}

				&:last-child {
					@include border-top-right-radius(.125em); // 2px
				}
			}
		}
	}
}

time {
}

u {
}

ul {
	list-style: {
		position: inside;
		style-type: disc;	
	}
	margin-bottom: 1.2em;

	> li {
		font-size: 1.5em;
		line-height: 1.6em; // 24px

		> ol {
			margin-bottom: 0;
		}

		> ul {
			list-style-type: circle;
			margin-bottom: 0;

			> li > ul {
				list-style-type: square;
			}
		}
	}
}

var {
	font: {
		family: $code-font-family;
		style: italic;
	}
}

video {
}

wbr {
}

// DEBUG (uncomment to debug horizontal grid)
/*
* {
	background-color: rgba(255,0,0,.1);
}

body {
	background: {
		image: url(../images/960.gs/16_col.gif);
		position: center top;
		repeat: repeat-y;
	}
}
*/