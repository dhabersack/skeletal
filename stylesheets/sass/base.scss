@import 'import.scss';
@import 'reset.scss';

// VERTICAL GRID
// 
// The vertical grid is based on a height of 6px. This allows for the use of
// line-heights like 12px, 18px, 24px, 30px, etc.
// 
// Sensible font-size and line-height combinations are:
// 
//   font-size  |  line-height (em)  |  line-height (px)  |   10px
// -------------+--------------------+--------------------|----------
//     10px     |       1.8em        |       18px         |  1em
//     12px     |       1.5em        |       18px         |
//     15px     |       1.6em        |       24px         |
//     16px     |       1.5em        |       24px         |  0.625em
//     20px     |       1.5em        |       30px         |  0.5em
//     24px     |       1.5em        |       36px         |
//     25px     |       1.68em       |       42px         |  0.4em
//     28px     |       1.5em        |       42px         |
//     30px     |       1.6em        |       48px         |
//     32px     |       1.5em        |       48px         |  0.3125em
//     40px     |       1.5em        |       60px         |  0.25em

//--------------------------------//
// ROOT ELEMENT                   //
//--------------------------------//

// root element
html {
  background-color: $background-color-page;
  overflow-y: scroll;
}

//--------------------------------//
// SECTIONS                       //
//--------------------------------//

// main content
body {
  background-color: inherit;
  color: $color-content;
  font: 62.5%/1 $font-family-content; // 10px/10px
}

// generic section
section {
  background: $background-color-content;
  margin: 0 auto;
  padding: 1.2em 1em;
  width: 94em;
}

// section with navigation links
nav {
  display: block;
  float: right;
  padding: 0.9em 0;

  > ol {
    list-style: none;
    margin-bottom: 0;
    overflow: hidden;

    > li {
      float: left;
      font-size: 1em;
      margin-left: 2em;

      > a {
        display: block;
        font-size: 1.5em;
        line-height: 1.6em; // 24px
      }
    }
  }
}

// independently distributable or reusable, self-contained composition
article {
  margin-bottom: 1.2em;
}

// content tangentially related to content around aside element; separate from
// that content (pull quotes, sidebars, advertising, …)
aside {
  margin-bottom: 1.2em;
  padding: 0 1em;
}

// headings
h1, h2, h3, h4, h5, h6 {
  font: {
    family: $font-family-headings;
    weight: normal;
  }
}

// heading with highest rank
h1 {
  font: {
    size: 8em; // 80px
    weight: bold;
  }
  line-height: 1.5em; // 120px
  padding: 0.15em 0 0.075em; // 12px 0 6px
}

// heading with second-highest rank
h2 {
  font-size: 4em; // 40px
  line-height: 1.5em; // 60px
  padding: 0.3em 0 0.15em; // 12px 0 6px
}

// heading with third-highest rank
h3 {
  font-size: 3.2em; // 32px
  line-height: 1.5em; // 48px
  padding: 0.375em 0 0.1875em; // 12px 0 6px
}

// heading with fourth-highest rank
h4 {
  font-size: 2.5em; // 25px
  line-height: 1.68em; // 42px
  padding: 0.48em 0 0.24em; // 12px 0 6px
}

// heading with fifth-highest rank
h5 {
  font-size: 2em; // 20px
  line-height: 1.5em; // 30px
  padding: 0.6em 0 0.3em; // 12px 0 6px
}

// heading with lowest rank
h6 {
  font-size: 1.6em; // 16px
  line-height: 1.5em; // 24px
  margin: 0.75em 0 0.375em; // 12px 0 6px
}

// group of headings
hgroup {
}

// introductory or navigational aids
header {
  background-color: $background-color-header;
  color: $color-header;
  display: block;
  font-family: $font-family-headings;
  margin: 0 auto;
  overflow: hidden;
  padding: 0 1em;
  width: 94em;

  h1 {
    float: left;
    font-size: 2em; // 20px
    line-height: 2.1em; // 42px
    padding: 0;

    > a {
      display: inline-block;

      &:active,
      &:focus,
      &:hover,
      &:link,
      &:visited {
        color: inherit;
      }
    }
  }
}

// footer for nearest ancestor sectioning content or sectioning root element,
// (information about its section such as author, links to related documents,
// copyright data, …)
footer {
  background-color: $background-color-footer;
  color: $color-footer;
  display: block;
  margin: 0 auto;
  overflow: hidden;
  padding: 1.2em 1em;
  width: 94em;

  ol li {
    font-size: 1.2em; // 12px
    line-height: 1.5em; // 18px
    margin-bottom: 0;
  }

  p {
    float: right;
    font-size: 1.2em; // 12px
    line-height: 1.5em; // 18px

    &:last-child {
      margin-bottom: 0;
    }
  }

  ul li {
    font-size: 1.2em; // 12px
    line-height: 1.5em; // 18px
    margin-bottom: 0;
  }
}

// contact information for its nearest article or body element ancestor
address {
  font-style: italic;
}

//--------------------------------//
// GROUPING CONTENT               //
//--------------------------------//

// paragraph
p {
  font-size: 1.6em; // 16px
  line-height: 1.5em; // 24px
  margin-bottom: 0.75em; // 12px
}

// paragraph-level thematic break
hr {
  border: {
    style: solid;
    width: 0.1em 0 0 0; // 1px
  }
  margin: 1.1em 6em 1.2em; // 11px 60px 12px
}

// preformatted text
pre {
  @include border-radius(.125em); // 2px
  @include box-shadow(0, 0, 0.0625em, $shadow-color-subtle); // 1px

  background: $background-color-subtle;
  font: 1.6em/1.5em $font-family-code; // #/24px
  margin-bottom: 0.75em; // 12px
  padding: 0.375em 0.625em; // 6px 10px
}

// section that is quoted from another source
blockquote {
  @include border-radius(.2em);
  @include box-shadow(0, 0, 0.1em, $shadow-color-subtle);

  background: $background-color-subtle;
  font: {
    family: $font-family-quotes;
    style: italic;
  }
  margin: 0 6em 1.2em;
  padding: 1.2em 2em;

	> cite {
		&::before {
			content: '– ';
		}
	}

  > p {
    &:last-of-type {
      margin-bottom: 0;
    }
  }
}

// ordered list
ol {
  list-style: {
    position: inside;
    type: decimal;
  }
  margin-bottom: 1.2em;

  > li {
    font-size: 1.5em;
    line-height: 1.6em; // 24px

    > ol {
      list-style-type: lower-alpha;
      margin-bottom: 0;

      > li > ol {
        list-style-type: lower-roman;
      }
    }

    > ul {
      margin-bottom: 0;
    }
  }
}

// unordered list
ul {
  list-style: {
    position: inside;
    style-type: disc;   
  }
  margin-bottom: 1.2em;

  > li {
    font-size: 1.5em;
    line-height: 1.6em; // 24px

    > ol {
      margin-bottom: 0;
    }

    > ul {
      list-style-type: circle;
      margin-bottom: 0;

      > li > ul {
        list-style-type: square;
      }
    }
  }
}

li > ol,
li > ul {
  > li {
    font-size: 1em; // 15px
    line-height: 1.6em; // 24px
    margin-left: 1.2em; // 18px
  }
}

// definition list
dl {
  margin-bottom: 1.2em; // 12px
}

// definition term
dt {
  font: {
    family: $font-family-headings;
    size: 1.6em; // 16px
    weight: bold;
  }
  line-height: 1.5em; // 24px
}

// definition description
dd {
  font-size: 1.6em; // 16px
  line-height: 1.5em; // 24px
  margin: 0 0 0.75em 1.25em; // 0 0 12px 20px
}

// self-contained, single unit referenced from main flow of document
figure {
}

// caption of figure element's contents
figcaption {
}

// groups its children, has no special meaning at all
div {
}

//--------------------------------//
// TEXT-LEVEL SEMANTICS           //
//--------------------------------//

// hyperlink
a {
  color: $dark-blue;

  &:active {}

  &:focus {
    outline: 1px dotted $red;
    text-decoration: none;
  }

  &:hover {
    color: $light-blue;
    text-decoration: underline;
  }

  &:link {
    text-decoration: none;
  }

  &:visited {
    text-decoration: none;
  }
}

// emphasized text
em {
  font-style: italic;
}

// text of strong importance
strong {
  font-weight: bold;
}

// side comments such as small print
small {
}

// no longer accurate or relevant
s {
}

// title of a work being quoted or mentioned in passing
cite {
  font: {
    size: 1.2em;
    style: italic;  
    weight: bold;
  }
  line-height: 1.5em; // 18px
}

// phrasing content quoted from another source
q {
  @include border-radius(.125em); // 2px
  @include box-shadow(0, 0, 0.0625em, $shadow-color-subtle); // 1px

  background: $background-color-subtle;
  display: inline-block;
  font: {
    family: $font-family-quotes;
    style: italic;
  }
  margin: 0 0.125em; // 0 2px
  padding: 0 0.3125em; // 0 5px

  &::after {
    content: '"';
  }

  &::before {
    content: '"';
  }
}

// definition term
dfn {
  font-style: italic;
}

// abbreviation or acronym
abbr {
  border-bottom: 0.0625em dotted; // 1px
  cursor: help;
  font-variant: normal;
  letter-spacing: 0.0625em; // 1px
  text-transform: uppercase;
}

// date/time
time {
}

// fragment of computer code
code {
  @include border-radius(.125em); // 2px
  @include box-shadow(0, 0, 0.0625em, $shadow-color-subtle); // 1px

  background: $background-color-subtle;
  display: inline-block;
  font-family: $font-family-code;
  margin: 0 0.125em; // 0 2px
  padding: 0 0.3125em; // 0 5px
}

var {
  font: {
    family: $font-family-code;
    style: italic;
  }
}

// sample computer code
samp {
  font-family: $font-family-code;
}

kbd {
  font-family: $font-family-code;
}

sub {
}

sup {
}

// italic text
i {
  font-style: italic;
}

// bold text
b {
  font-weight: bold;
}

u {
}

// marked text
mark {
  @include border-radius(.125em); // 2px
  @include box-shadow(0, 0, 0.0625em, $shadow-color-highlight); // 1px

  background: $background-color-highlight;
  color: inherit;
  display: inline-block;
  margin: 0 0.125em; // 0 2px
  padding: 0 0.3125em; // 0 5px
}

ruby {
}

rt {
}

rp {
}

bdi {
}

bdo {
}

span {
}

// single line break
br {
}

wbr {
}

//--------------------------------//
// EDITS                          //
//--------------------------------//

// inserted text
ins {
  border-bottom: 0.0625em dashed;
  font-style: italic;
  text-decoration: none;
}

// deleted text
del {
  color: $color-deleted;
  font-style: italic;
  text-decoration: line-through;
}

//--------------------------------//
// EMBEDDED CONTENT               //
//--------------------------------//

img {
}

iframe {
}

embed {
}

object {
}

param {
}

video {
}

// sound element
audio {
}

source {
}

track {
}

// graphics canvas
canvas {
}

map {
}

area {
}

//--------------------------------//
// TABULAR DATA                   //
//--------------------------------//

// table
table {
  border: {
    collapse: collapse;
    spacing: 0;
  }
  margin-bottom: 1.2em;
  width: 100%;
}

// table caption
caption {
}

colgroup {
}

col {
}

// table body
tbody {
  th {
    font-weight: normal;
  }

  tr {
    &:nth-child(odd) {
      background: $background-color-subtle;
    }
  }
}

// table header
thead {
  font-family: $font-family-headings;
}

// table footer
tfoot {
	> tr {
		border-bottom: none;
	}
}

// table row
tr {
  border-bottom: 0.1em solid $border-color-subtle; // 1px
}

td {
  font-size: 1.6em;
  line-height: 1.5em; // 24px
  padding: 0 0.625em; // 0 10px
}

th {
  font: {
    size: 1.6em; // 16px
    weight: bold;
  }
  line-height: 1.875em; // 30px
  padding: 0 0.625em; // 0 10px
  text-align: left;
}

//--------------------------------//
// FORMS                          //
//--------------------------------//

// form
form {
  margin-bottom: 1.2em; // 12px

  > fieldset > legend {
    position: absolute;
    text-indent: -999em; // negative a lot
  }
}

fieldset {
  // TODO check effect of clear: left
  clear: left;
  line-height: 1; // helps set vertical alignment of radio buttons and checkboxes; probably unnecessary

  > div {
    margin-bottom: 1.2em;
    overflow: hidden;
    position: relative;

    > label {
      &[data-unit] {
        &::after {
          color: #666; // TODO color
          content: attr(data-unit);
          font-size: 0.75em; // 12px
          line-height: 2.5em; // 30px
          position: absolute;
          left: 20em; // 240px
          text-align: right;
          top: 2.5em; // 30px
          width: 2.5em; // 30px
        }

        + input[type="text"] {
          padding-right: 3.0625em; // 49px
          width: 14.0625em; // 225px
        }
      }
    }

    > p {
      clear: left;
      color: $gray;
      font-size: 1.2em;
      line-height: 1.5em; // 18px
      margin-bottom: 0;
    }

    > span {
      float: left;
      font-size: 1.2em;
      line-height: 2.5em; // 30px
    }
  }

  > fieldset {
    @include border-radius(.2em); // 2px

    border: 0.1em solid $gray;
    margin-bottom: 1.2em;
    padding: 0.5em 0.9em 1.1em;

    > div {
      margin-bottom: 0;
    }

    > legend {
      padding: 0 0.625em; // 10px
    }
  }
}

legend {
  color: $off-black;
  font: bold 1.6em/1.5em $font-family-headings; // #/24px
  letter-spacing: 0.025em;
}

label {
  display: block;
  float: left;
  font-family: $font-family-headings;
  font-size: 1.6em; // 16px
  line-height: 1.875em; // 30px
}

input {
  &[type="hidden"] {
  }

  &[type="text"],
  &[type="search"],
  &[type="tel"],
  &[type="url"],
  &[type="email"],
  &[type="password"],
  &[type="datetime"],
  &[type="date"],
  &[type="month"],
  &[type="week"],
  &[type="time"],
  &[type="datetime-local"],
  &[type="number"],
  &[type="range"],
  &[type="color"] {
    @include form-field-border;
    @include border-radius(.125em); // 2px

    background: $white;
    clear: left;
    float: left;
    font: 1.6em/1em $font-family-inputs; // 16px/16px
    height: 1em; // 16px
    margin: 0 0.625em 0 0; // 0 10px 0 0
    padding: 0.375em 0.25em; // 6px 4px
    width: 16.875em; // 270px

    &:focus {
      border-color: $light-blue;
    }
  }

  &[type="checkbox"],
  &[type="radio"] {
    // TODO not happy with use of em-values on top of unknown base value
    float: left;
    font-size: 1.6em; // 16px
    height: 1.875em; // 30px
    margin: 0 0.625em 0 0; // 0 10px 0 0
    padding: 0;
  }

  &[type="file"] {
  }

  // button elements
  &[type="submit"],
  &[type="image"],
  &[type="reset"],
  &[type="button"] {
    @extend button;
  }
}

// push buttons
button {
  @include background-gradient($off-white, $light-gray);
  @include border-radius(.125em); // 2px
  @include form-field-border;

  color: $off-black;
  float: left;
  font: 1.6em/1.75em $font-family-sans-serif; // 16px/28px
  height: 1.75em; // 28px
  margin: 0 0.3125em 0 0; // 0 5px 0 0
  padding: 0 0.875em; // 0 14px
  text-shadow: 0 0.0625em 0 $off-white;

  &:active {
    @include background-gradient($light-gray, $off-white);

    border-color: $gray;
  }

  &:hover {
    background: $light-gray;
    border-color: $gray;
    cursor: pointer;
  }

  &[disabled="disabled"] {
    background: $light-gray;
    color: $gray;
    text-shadow: 0 -1px 0 $white;

    &:hover {
      @include form-field-border;
    }
  }
}

select {
  // TODO style selects
  clear: left;
  float: left;
  margin: 0 0.5em 0 0; // ~5px

  ~ select {
    clear: none; // only clear first select, following ones will be in line
  }
}

datalist {
}

optgroup {
}

option {
}

textarea {
  @include form-field-border;
  @include border-radius(.125em); // 2px

  background: $white;
  clear: left;
  float: left;
  font: 1.6em/1.5em $font-family-sans-serif; // 16px/24px
  margin: 0;
  min-height: 9em; // 114px
  padding: 0.3125em 0.25em; // 5px 4px
  width: 35.628em; // 570px

  &:focus {
    border-color: $light-blue;
  }
}

keygen {
}

output {
}

progress {
}

meter {
}

//--------------------------------//
// INTERACTIVE ELEMENTS           //
//--------------------------------//

details {
}

summary {
}

command {
}

menu {
}

// DEBUG (uncomment to debug horizontal grid)
/*
* {
  background-color: rgba(255,0,0,.1);
}

body {
  background: {
    image: url(../images/960.gs/16_col.gif);
    position: center top;
    repeat: repeat-y;
  }
}
*/
